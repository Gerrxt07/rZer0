# rZer0 Environment Configuration
# Copy this file to .env and modify the values as needed

# Application Configuration
APP_NAME=rZer0
APP_VERSION=1.0.0
APP_DESCRIPTION=A simple FastAPI application running with rloop and granian.

# Set to None to disable docs (use empty value or comment out)
DOCS_URL=
REDOC_URL=
OPENAPI_URL=/openapi.json

# Database Configuration (PostgreSQL)
# DATABASE_URL=postgresql://user:password@localhost:5432/rzero

# Redis/Dragonfly Configuration
REDIS_URL=redis://localhost:6379

# Security Configuration
# Generate a secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# SECRET_KEY=your-secret-key-here

# CORS Configuration
# Comma-separated list of allowed origins
# CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,HEAD,PATCH
CORS_ALLOW_HEADERS=*

# Security Headers Configuration  
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_HSTS_INCLUDE_SUBDOMAINS=true
SECURITY_HSTS_PRELOAD=true
SECURITY_FRAME_OPTIONS=DENY
# Custom CSP policy (optional, uses default if not set)
# SECURITY_CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'

# Multiprocessing Configuration
WORKERS=4
RUNTIME_THREADS=4

# Logging Configuration
LOG_LEVEL=DEBUG
LOG_DIR=logs
LOG_FILE_MAX_SIZE=10 MB
LOG_FILE_RETENTION=7 days
LOG_ERROR_FILE_MAX_SIZE=5 MB
LOG_ERROR_FILE_RETENTION=30 days
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=true

# Async Logging Configuration (Performance Enhancement)
# Enable asynchronous logging for zero-performance-impact logging
LOG_ASYNC_ENABLED=true
# Fallback to synchronous logging if async queue is full
LOG_ASYNC_FALLBACK=true
# Maximum number of queued log messages (increase for high-volume applications)
LOG_ASYNC_QUEUE_SIZE=1000
# Timeout for graceful shutdown of async logging thread
LOG_ASYNC_SHUTDOWN_TIMEOUT=2.0

# Rate Limiting Configuration
# Enable/disable rate limiting functionality
RATE_LIMIT_ENABLED=true
# Number of requests allowed per time window
RATE_LIMIT_REQUESTS=100
# Time window in seconds (sliding window)
RATE_LIMIT_WINDOW=60
# Custom message to show when rate limit is exceeded
RATE_LIMIT_MESSAGE=Rate limit exceeded. Please try again later.
